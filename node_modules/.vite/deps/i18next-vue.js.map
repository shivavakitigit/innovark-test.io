{
  "version": 3,
  "sources": ["../../i18next-vue/dist/index.mjs", "dep:i18next-vue"],
  "sourcesContent": ["// index.ts\nimport { ref, getCurrentInstance, defineComponent } from \"vue\";\nfunction install(app, {\n  i18next,\n  rerenderOn = [\"languageChanged\", \"loaded\", \"added\", \"removed\"]\n}) {\n  const genericT = i18next.t.bind(i18next);\n  const lastI18nChange = ref(new Date());\n  const invalidate = () => lastI18nChange.value = new Date();\n  const usingI18n = () => lastI18nChange.value;\n  rerenderOn.forEach((event) => {\n    var _a;\n    switch (event) {\n      case \"added\":\n      case \"removed\":\n        (_a = i18next.store) == null ? void 0 : _a.on(event, invalidate);\n        break;\n      default:\n        i18next.on(event, invalidate);\n        break;\n    }\n  });\n  app.component(\"i18next\", TranslationComponent);\n  app.mixin({\n    beforeCreate() {\n      var _a, _b;\n      const options = this.$options;\n      if (!options.__i18n && !options.i18nOptions) {\n        this.__translate = void 0;\n        return;\n      }\n      const name = this.$options.name;\n      const rand = (Math.random() * 10 ** 8 | 0).toString();\n      const localNs = [name, rand].filter((x) => !!x).join(\"-\");\n      this.__bundles = [];\n      const loadBundle = (bundle) => {\n        Object.entries(bundle).forEach(([lng2, resources]) => {\n          i18next.addResourceBundle(lng2, localNs, resources, true, false);\n          this.__bundles.push([lng2, localNs]);\n        });\n      };\n      (_a = options.__i18n) == null ? void 0 : _a.forEach((bundle) => {\n        loadBundle(JSON.parse(bundle));\n      });\n      let { lng, ns, keyPrefix } = handleI18nOptions(options, loadBundle);\n      if ((_b = this.__bundles) == null ? void 0 : _b.length) {\n        ns = [localNs].concat(ns != null ? ns : []);\n      }\n      const t = getTranslationFunction(lng, ns);\n      this.__translate = (key, options2) => {\n        if (!keyPrefix || includesNs(key)) {\n          return t(key, options2);\n        } else {\n          return t(keyPrefix + \".\" + key, options2);\n        }\n      };\n    },\n    unmounted() {\n      var _a;\n      (_a = this.__bundles) == null ? void 0 : _a.forEach(([lng, ns]) => i18next.removeResourceBundle(lng, ns));\n    }\n  });\n  app.config.globalProperties.$t = function(key, options) {\n    var _a;\n    usingI18n();\n    if (i18next.isInitialized) {\n      return ((_a = this == null ? void 0 : this.__translate) != null ? _a : genericT)(key, options);\n    } else {\n      return key;\n    }\n  };\n  app.config.globalProperties.$i18next = new Proxy(i18next, {\n    get(target, prop) {\n      usingI18n();\n      return Reflect.get(target, prop);\n    }\n  });\n  function getTranslationFunction(lng, ns) {\n    if (lng) {\n      return i18next.getFixedT(lng, ns);\n    } else if (ns) {\n      return i18next.getFixedT(null, ns);\n    } else {\n      return genericT;\n    }\n  }\n  function includesNs(key) {\n    const nsSeparator = i18next.options.nsSeparator;\n    return typeof nsSeparator === \"string\" && key.includes(nsSeparator);\n  }\n  function handleI18nOptions(options, loadBundle) {\n    let lng;\n    let ns;\n    let keyPrefix;\n    if (options.i18nOptions) {\n      let messages;\n      let namespaces;\n      ({\n        lng,\n        namespaces = i18next.options.defaultNS,\n        keyPrefix,\n        messages\n      } = options.i18nOptions);\n      if (messages) {\n        loadBundle(messages);\n      }\n      ns = typeof namespaces === \"string\" ? [namespaces] : namespaces;\n      if (ns) {\n        i18next.loadNamespaces(ns);\n      }\n    }\n    return { lng, ns, keyPrefix };\n  }\n}\nfunction useTranslation() {\n  const instance = getCurrentInstance();\n  if (!instance) {\n    throw new Error(\"i18next-vue: No Vue instance in context. Make sure to register the i18next-vue plugin using app.use(...).\");\n  }\n  const globalProps = instance.appContext.config.globalProperties;\n  return {\n    i18next: globalProps.$i18next,\n    t: globalProps.$t.bind(instance.proxy)\n  };\n}\nvar slotNamePattern = new RegExp(\"{\\\\s*([a-z0-9\\\\-]+)\\\\s*}\", \"gi\");\nvar TranslationComponent = defineComponent({\n  props: {\n    \"translation\": {\n      type: String,\n      required: true\n    }\n  },\n  setup(props, { slots }) {\n    return () => {\n      const translation = props.translation;\n      const result = [];\n      let match;\n      let lastIndex = 0;\n      while ((match = slotNamePattern.exec(translation)) !== null) {\n        result.push(translation.substring(lastIndex, match.index));\n        const slot = slots[match[1]];\n        if (slot) {\n          result.push(...slot());\n        } else {\n          result.push(match[0]);\n        }\n        lastIndex = slotNamePattern.lastIndex;\n      }\n      result.push(translation.substring(lastIndex));\n      return result;\n    };\n  }\n});\nexport {\n  TranslationComponent,\n  install as default,\n  useTranslation\n};\n", "import d from \"./node_modules/i18next-vue/dist/index.mjs\";export default d;\nexport * from \"./node_modules/i18next-vue/dist/index.mjs\""],
  "mappings": "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",
  "names": []
}
